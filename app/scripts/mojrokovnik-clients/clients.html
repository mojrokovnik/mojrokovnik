<div clients-sidenav class="sidenav-section">
    <div class="topnav-section">
        <div class="item ng-animate-disabled" ng-click="switchType('legals')" ng-class="{active: clientType === 'legals'}" translate>Pravna lica</div>
        <div class="item ng-animate-disabled" ng-click="switchType('individuals')" ng-class="{active: clientType === 'individuals'}" translate>Fizička lica</div>
    </div>

    <div class="loader ng-animate-disabled" ng-show="$root.loading">Loading...</div>

    <div class="sidenav-item ng-animate-disabled" ng-repeat="client in clients[clientType] track by client.id" ng-class="{active: client.id === selected.id}" ng-click="pickClient(client)">
        {{client.name}} {{client.surname}} {{client.company_name}}
        <span class="detail-info">
            <i ng-if="client.city">{{client.city}}</i>
            <i ng-if="client.state">, {{client.state}}</i>
        </span>
    </div>
    <button class="btn btn--orange" ng-click="addClient()">
        <i class="icon-add-client"></i>
        <span translate>Dodaj novog klijenta</span>
    </button>
</div>

<div clients-template class="content-section">
    <div class="content-searchbar clearfix">
        <input type="text" class="searchbar pull-right" placeholder="{{'Pretraga...'| translate}}" />
    </div>
    <div class="content-shortinfo">
        <div class="name-info">
            {{selected.name}} {{selected.surname}} {{selected.company_name}}
            <div class="address-info">{{selected.address}}, {{selected.city}}, {{selected.state}}</div>
        </div>
        <div class="btn-group btn-group--inline pull-right">
            <button class="btn btn--rounded btn--dark" ng-click="editClient(selected)" translate>Izmeni podatke</button>
            <button class="btn btn--rounded btn--dark" ng-click="removeClient(selected)" translate>Izbriši lice</button>
        </div>
    </div>
    <div class="content-detailedinfo">

        <div class="content-left" ng-if="clientType === 'legals'">
            <div class="content-heading" translate>Osnovni podaci</div>
            <div class="content-details">
                <div class="columns-two">
                    <div class="column">
                        <label translate>PIB</label>
                        {{selected.vat}}
                    </div>
                    <div class="column">
                        <label translate>Matični broj</label>
                        {{selected.company_number}}
                    </div>
                </div>
                <div class="column">
                    <label translate>Pravni zastupnik</label>
                    {{selected.attorney_name}}
                </div>
                <div class="columns-two">
                    <div class="column">
                        <label translate>Telefon zastupnika</label>
                        {{selected.attorney_phone}}
                    </div>
                    <div class="column">
                        <label translate>Adresa zastupnika</label>
                        {{selected.phone}}
                    </div>
                </div>
                <div class="columns-two">
                    <div class="column">
                        <label translate>Grad zastupnika</label>
                        {{selected.attorney_city}}
                    </div>
                    <div class="column">
                        <label translate>Država zastupnika</label>
                        {{selected.attorney_state}}
                    </div>
                </div>
                <div class="column">
                    <label translate>Email</label>
                    {{selected.email}}
                </div>
                <div class="column">
                    <label translate>Tekući račun</label>
                    {{selected.account_number}}
                </div>
                <div class="column">
                    <label translate>Komentar</label>
                    {{selected.comment}}
                </div>
            </div>
        </div>

        <div class="content-left"  ng-if="clientType === 'individuals'">
            <div class="content-heading" translate>Osnovni podaci</div>
            <div class="content-details">
                <div class="columns-two">
                    <div class="column">
                        <label translate>Državljanstvo</label>
                        {{selected.citizenship}}
                    </div>
                    <div class="column">
                        <label translate>Telefon</label>
                        {{selected.phone}}
                    </div>
                </div>
                <div class="column">
                    <label translate>Email</label>
                    {{selected.email}}
                </div>
                <div class="columns-two">
                    <div class="column">
                        <label translate>JMBG</label>
                        {{selected.social_number}}
                    </div>
                    <div class="column">
                        <label translate>Br. Lične karte</label>
                        {{selected.id_number}}
                    </div>
                </div>
                <div class="column">
                    <label translate>Tekući račun</label>
                    {{selected.account_number}}
                </div>
                <div class="column">
                    <label translate>Komentar</label>
                    {{selected.comment}}
                </div>
            </div>
        </div>

        <div class="content-right">
            <div class="content-heading" translate>Predmeti</div>
            <div class="content-details">
                <div class="column" ng-if="!getClientCases(selected.id).length">
                    <label class="label--info">Trenutno nema predmeta za izabranog klijenta. <a href="#">Dodaj odmah</a></label>
                </div>
                <div class="column" ng-repeat="_case in getClientCases(selected.id) track by _case.id">
                    <label>{{_case.name}}</label>
                </div>
            </div>

            <div class="content-heading" translate>Agenda</div>
            <div class="content-details">
                <div class="column" ng-if="!getClientAgenda(selected.id).length">
                    <label class="label--info">Nemate budućih obaveza za izabranog klijenta. <a href="#">Dodaj odmah</a></label>
                </div>
                <div class="column" ng-repeat="_calendar in getClientAgenda(selected.id) track by _calendar.id">
                    <label>{{_calendar.datetime| datetime:"Do MMMM YYYY, HH:mm"}} - {{_calendar.name}}</label>
                </div>
            </div>
        </div>
    </div>
</div>